{
  "name": "multi-provider-cli-chat",
  "version": "2.2.0",
  "description": "Multi-Provider AI Integration for Claude Code - Routes tasks to OpenAI Codex, Google Gemini, Kimi K2, Qwen, and Z.ai (GLM-4.7) via CLI with circuit breaker protection",
  "author": "Ralle1976",
  "repository": "https://github.com/Ralle1976/multi-provider-cli-chat-plugin",

  "commands": [
    {
      "name": "openai-cli",
      "title": "Send prompt via Codex CLI",
      "description": "Uses the locally installed @openai/codex CLI with your existing login/session.",
      "input_schema": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string",
            "description": "User prompt to send to Codex CLI"
          },
          "model": {
            "type": "string",
            "description": "Model: gpt-5.1-codex (best), gpt-5.1-codex-mini (fast), gpt-5.1 (general)",
            "default": "gpt-5.1-codex"
          },
          "sandbox": {
            "type": "string",
            "description": "Sandbox mode: read-only, workspace-write, danger-full-access"
          },
          "approval_policy": {
            "type": "string",
            "description": "Approval policy: untrusted, on-failure, on-request, never"
          }
        },
        "required": ["prompt"]
      }
    },
    {
      "name": "gemini-cli",
      "title": "Send prompt via Gemini CLI",
      "description": "Uses the locally installed gemini CLI with your existing login/session.",
      "input_schema": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string",
            "description": "User prompt to send to Gemini CLI"
          },
          "model": {
            "type": "string",
            "description": "Model: gemini-3-pro-preview-11-2025 (best), gemini-3.0-flash (fast), gemini-2.5-pro (stable)",
            "default": "gemini-2.5-pro"
          },
          "yolo": {
            "type": "boolean",
            "description": "If true, runs without confirmation prompts"
          },
          "approval_mode": {
            "type": "string",
            "description": "Approval mode: default, auto_edit, yolo"
          }
        },
        "required": ["prompt"]
      }
    },
    {
      "name": "kimi-cli",
      "title": "Send prompt via Kimi K2 API",
      "description": "Uses Moonshot AI's Kimi K2 API (1 trillion params, 256K context). Requires MOONSHOT_API_KEY.",
      "input_schema": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string",
            "description": "User prompt to send to Kimi K2"
          },
          "model": {
            "type": "string",
            "description": "Model: kimi-k2-0711 (best), kimi-k2-thinking (reasoning), moonshot-v1-8k (fast)",
            "default": "kimi-k2-0711"
          },
          "system": {
            "type": "string",
            "description": "Optional system prompt"
          }
        },
        "required": ["prompt"]
      }
    },
    {
      "name": "kimi-auth",
      "title": "Kimi K2 Authentication",
      "description": "Check, test, or get setup instructions for Kimi K2 API authentication.",
      "input_schema": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "description": "Action: status (default), test, help",
            "default": "status"
          }
        }
      }
    },
    {
      "name": "gemini-accounts",
      "title": "Multi-Account Gemini Management",
      "description": "Manage multiple Gemini accounts with automatic rotation on rate-limits. Supports free and paid accounts.",
      "input_schema": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "description": "Action: add, remove, list, status, rotate, set, strategy, toggle",
            "default": "status"
          },
          "name": {
            "type": "string",
            "description": "Account name (for add, remove, set, toggle)"
          },
          "api_key": {
            "type": "string",
            "description": "API key (for add)"
          },
          "type": {
            "type": "string",
            "description": "Account type: free or paid (for add)",
            "default": "free"
          },
          "strategy": {
            "type": "string",
            "description": "Rotation strategy: free_first, paid_first, round_robin (for strategy action)"
          }
        }
      }
    },
    {
      "name": "qwen-cli",
      "title": "Send prompt via Qwen API",
      "description": "Uses Alibaba Qwen/GWEN API (Qwen3-Coder, Qwen3-Max). Great for coding tasks with generous free limits.",
      "input_schema": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string",
            "description": "User prompt to send to Qwen"
          },
          "model": {
            "type": "string",
            "description": "Model: qwen3-coder-plus (coding), qwen3-max (best), qwen3-turbo (fast)",
            "default": "qwen3-coder-plus"
          },
          "approval_mode": {
            "type": "string",
            "description": "Approval mode: default, yolo"
          }
        },
        "required": ["prompt"]
      }
    },
    {
      "name": "zai-cli",
      "title": "Send prompt via Z.ai API (GLM-4.7)",
      "description": "Uses Z.ai API with Anthropic-compatible interface. Maps to Zhipu GLM-4.7 models.",
      "input_schema": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string",
            "description": "User prompt to send to Z.ai"
          },
          "model": {
            "type": "string",
            "description": "Model: claude-3-5-sonnet-20241022 (â†’ GLM-4.7), claude-3-5-haiku-20241022 (â†’ GLM-4.5-Air)",
            "default": "claude-3-5-sonnet-20241022"
          }
        },
        "required": ["prompt"]
      }
    }
  ],

  "agents": [
    {
      "name": "openai-agent",
      "description": "OpenAI Codex sub-agent for code generation, review, and optimization",
      "path": "agents/openai-agent.md"
    },
    {
      "name": "gemini-agent",
      "description": "Google Gemini sub-agent for analysis, brainstorming, and cross-verification",
      "path": "agents/gemini-agent.md"
    },
    {
      "name": "kimi-agent",
      "description": "Kimi K2 sub-agent for long-context tasks (256K), complex reasoning, and tool calling (100% accuracy)",
      "path": "agents/kimi-agent.md"
    },
    {
      "name": "qwen-agent",
      "description": "Qwen sub-agent for coding tasks (Qwen3-Coder), long context, and cross-verification. Generous free limits.",
      "path": "agents/qwen-agent.md"
    },
    {
      "name": "zai-agent",
      "description": "Z.ai (GLM-4.7) sub-agent using Anthropic-compatible API. Zhipu AI's flagship model.",
      "path": "agents/zai-agent.md"
    }
  ],

  "features": {
    "circuitBreaker": {
      "enabled": true,
      "threshold": 3,
      "windowMinutes": 5,
      "cooldownMinutes": 10
    }
  },

  "requirements": {
    "codex": "npm install -g @openai/codex && codex login",
    "gemini": "npm install -g @google/gemini-cli && gemini auth login",
    "kimi": "export MOONSHOT_API_KEY=sk-... (from https://platform.moonshot.ai/)",
    "qwen": "export DASHSCOPE_API_KEY=sk-... (from https://dashscope.console.aliyun.com/)",
    "zai": "echo 'your_key' > ~/.zai_api_key (from https://z.ai/manage-apikey/apikey-list)"
  }
}
